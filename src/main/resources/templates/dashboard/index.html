<!DOCTYPE html>
<html lang="pt-br"
      xmlns:th="http://www.thymeleaf.org"
      th:replace="layout/base :: layout(~{::section})">

<section class="container-fluid">

    <!-- TÃ­tulo -->
    <div class="row mb-4">
        <div class="col-12 d-flex justify-content-between align-items-center">
            <h3 class="mb-0">Dashboard Financeiro</h3>
        </div>
    </div>

    <!-- Menu rÃ¡pido -->
    <div class="row g-3 mb-4">

        <div class="col-12 col-md-6 col-lg-4">
            <a class="card text-decoration-none shadow-sm h-100"
               th:href="@{/reembolsos}">
                <div class="card-body">
                    <h5 class="card-title">ðŸ“„ Reembolsos</h5>
                    <p class="text-muted mb-0">
                        Gerenciar solicitaÃ§Ãµes de reembolso
                    </p>
                </div>
            </a>
        </div>

        <div class="col-12 col-md-6 col-lg-4">
            <a class="card text-decoration-none shadow-sm h-100"
               th:href="@{/usuarios/perfil}">
                <div class="card-body">
                    <h5 class="card-title">ðŸ‘¤ Meu Perfil</h5>
                    <p class="text-muted mb-0">
                        Ver e editar meus dados
                    </p>
                </div>
            </a>
        </div>

    </div>

    <!-- Filtro -->
    <form class="row g-3 mb-4"
          method="get"
          th:action="@{/dashboard}">

        <div class="col-12 col-sm-6 col-md-3">
            <input type="number"
                   name="mes"
                   class="form-control"
                   placeholder="MÃªs"
                   min="1"
                   max="12"
                   th:value="${mes}">
        </div>

        <div class="col-12 col-sm-6 col-md-3">
            <input type="number"
                   name="ano"
                   class="form-control"
                   placeholder="Ano"
                   th:value="${ano}">
        </div>

        <div class="col-12 col-md-3 d-grid">
            <button class="btn btn-primary">
                Filtrar
            </button>
        </div>

    </form>

    <!-- GrÃ¡fico -->
    <div class="row">
        <div class="col-12 col-lg-8">

            <div class="card shadow-sm">
                <div class="card-body">
                    <canvas id="graficoReembolsos"></canvas>
                </div>
            </div>

        </div>
    </div>

    <!-- Chart.js -->
    <script th:inline="javascript">
        /*<![CDATA[*/
        const labels = [[${labels}]];
        const values = [[${values}]];

        new Chart(document.getElementById('graficoReembolsos'), {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Total Reembolsado',
                    data: values,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                }
            }
        });
        /*]]>*/
    </script>

</section>
</html>
